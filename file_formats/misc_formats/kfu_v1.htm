---
title: "KFU File Format"
---
    <div class="title_main"> KFU File Format </div>

    <br />
    <div class="fileHeader">Applies to:</div>
    <div class="indent1">Winbiff</div><br />
    
    <div class="fileHeader">General Description</div>
    <div class="indent1">
      This file format describes data to be added to chitin.key and dialog.tlk.<br />
    </div>
    <br />
    
    <div class="fileHeader">Detailed Description</div>
    <div class="indent1">
      Overall Structure:<br />
        <ul>
          <li><a href="#kfu_v1_Header">KFU V1 Header</a></li>
          <li><a href="#kfu_v1_Biff_Entry">KFU V1 Biff Entry</a></li>
          <li><a href="#kfu_v1_Resource_Entry">KFU V1 Resource Entry</a></li>
          <li><a href="#kfu_v1_Stringref_Entry">KFU V1 Strref Entry</a></li>
        </ul>
      <br />
    </div>
    
    <div class="fileHeader"><a name="kfu_v1_Header">KFU V1 Header</a></div>
    <div class="indent1">
      <br />
      <table border="1" width="98%">
        <colgroup>
          <col width="5%" />
          <col width="12%" />
           <col width="*" />
        </colgroup>
        <tr>
          <th>Offset</th>
          <th>Size (data type)</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>0x0000</td>
          <td>4(char array)</td>
          <td>Signature</td>
        </tr>
        <tr>
          <td>0x0004</td>
          <td>4(char array)</td>
          <td>Version</td>
        </tr>
        <tr>
          <td>0x0008</td>
          <td>4(dword)</td>
          <td>Count of BIFF entries</td>
        </tr>
        <tr>
          <td>0x000c</td>
          <td>4(dword)</td>
          <td>Offset to BIFF entries</td>
        </tr>
        <tr>
          <td>0x0010</td>
          <td>4(dword)</td>
          <td>Count of strrefs to add to dialog.tlk</td>
        </tr>
        <tr>
          <td>0x0014</td>
          <td>4(dword)</td>
          <td>Offset to strref entries</td>
        </tr>
      </table>
    </div>
    <br />
    
    <div class="fileHeader"><a name="kfu_v1_Biff_Entry">KFU V1 Biff Entry</a></div>
    <div class="indent1">
      <br />
      <table border="1" width="98%">
        <colgroup>
          <col width="5%" />
          <col width="12%" />
           <col width="*" />
        </colgroup>
        <tr>
          <th>Offset</th>
          <th>Datatype</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>0x0000</td>
          <td>4(dword)</td>
          <td>Size of BIFF</td>
        </tr>
        <tr>
          <td>0x0004</td>
          <td>4(dword)</td>
          <td>Length of filename</td>
        </tr>
        <tr>
          <td>0x0008</td>
          <td>4(dword)</td>
          <td>Offset to filename</td>
        </tr>
        <tr>
          <td>0x000c</td>
          <td>4(dword)</td>
          <td>Count of resources</td>
        </tr>
        <tr>
          <td>0x0010</td>
          <td>4(dword)</td>
          <td>Offset to resources</td>
        </tr>
      </table>
    </div>
    <br />
    
    <div class="fileHeader"><a name="kfu_v1_Resource_Entry">KFU V1 Resource Entry</a></div>
    <div class="indent1">
      <br />
      <table border="1" width="98%">
        <colgroup>
          <col width="5%" />
          <col width="12%" />
          <col width="*" />
        </colgroup>
        <tr>
          <th>Offset</th>
          <th>Datatype</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>0x0000</td>
          <td>8(resref)</td>
          <td>Resource name</td>
        </tr>
        <tr>
          <td>0x0008</td>
          <td>2(word)</td>
          <td>Resource type</td>
        </tr>
      </table>
    </div>
    <br />
    
    <div class="fileHeader"><a name="kfu_v1_Stringref_Entry">KFU V1 Strref Entry</a></div>
    <div class="indent1">
      <br />
      <table border="1" width="98%">
        <colgroup>
          <col width="5%" />
          <col width="12%" />
           <col width="*" />
        </colgroup>
        <tr>
          <th>Offset</th>
          <th>Datatype</th>
          <th>Description</th>
        </tr>
        <tr>
          <td>0x0000</td>
          <td>4(dword)</td>
          <td>Length of string</td>
        </tr>
        <tr>
          <td>0x0004</td>
          <td>4(dword)</td>
          <td>Offset to string</td>
        </tr>
        <tr>
          <td>0x0008</td>
          <td>4(dword)</td>
          <td>Offset in BIFF file to change to new strref</td>
        </tr>
        <tr>
          <td>0x000c</td>
          <td>4(dword)</td>
          <td>Bif Index</td>
        </tr>
      </table>
    </div>
  </div>
</div>

